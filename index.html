<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI for Automation of Modeling and Simulation (M&amp;S) Workflows: Senior Design Project Team 46</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&family=IBM+Plex+Sans:wght@400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="bg-grid"></div>
  <main class="app-shell">
    <header class="hero">
      <div class="title-block">
        <p class="eyebrow">Senior Design Project Team 46</p>
        <h1>AI for Automation of Modeling and Simulation (M&amp;S) Workflows: Senior Design Project Team 46</h1>
      </div>
      <div class="logo-wrap" aria-label="General Dynamics Electric Boat logo area">
        <img
          src="assets/gdeb-logo.svg"
          alt="General Dynamics Electric Boat Logo"
          id="gdeb-logo"
          onerror="this.style.display='none'; document.getElementById('logo-fallback').style.display='flex';"
        />
        <div class="logo-fallback" id="logo-fallback">
          <span>General Dynamics</span>
          <span>Electric Boat</span>
        </div>
      </div>
    </header>

    <section class="workspace">
      <article class="panel input-panel">
        <h2>Input Source</h2>
        <p class="muted">Choose an .slx model, then run convert, model Q&A, or full MATLAB workflow.</p>

        <label class="field-label" for="fileInput">Simulink file (.slx)</label>
        <input id="fileInput" type="file" accept=".slx" />
        <p id="fileName" class="status-chip">No .slx file selected</p>

        <div class="model-grid">
          <div>
            <label class="field-label" for="modelName">Model name</label>
            <input id="modelName" class="text-input" type="text" placeholder="gpt-4o-mini" />
          </div>
          <div>
            <label class="field-label" for="baseUrl">Model base URL</label>
            <input id="baseUrl" class="text-input" type="text" placeholder="https://api.openai.com/v1" />
          </div>
        </div>

        <label class="field-label" for="apiKey">Model API key</label>
        <input id="apiKey" class="text-input" type="password" placeholder="Paste API key (optional if env var set)" />

        <div class="matlab-grid">
          <div>
            <label class="field-label" for="matlabCmd">MATLAB command/path</label>
            <input id="matlabCmd" class="text-input" type="text" placeholder="matlab" />
          </div>
          <div>
            <label class="field-label" for="timeoutSec">MATLAB timeout (sec)</label>
            <input id="timeoutSec" class="text-input" type="number" min="30" step="10" value="300" />
          </div>
        </div>

        <div class="prompt-header">
          <label class="field-label" for="prompt">Question / Prompt</label>
          <span id="charCount" class="muted">0 chars</span>
        </div>
        <textarea id="prompt" rows="8" placeholder="Example: Build a closed-loop speed control simulation, tune parameters, run optimization, and summarize results."></textarea>

        <p id="requestStatus" class="request-status" aria-live="polite"></p>

        <div class="actions actions-three">
          <button id="convertBtn" class="btn primary">Convert .slx</button>
          <button id="askBtn" class="btn secondary">Ask Model</button>
          <button id="workflowBtn" class="btn accent">Run MATLAB Workflow</button>
        </div>
      </article>

      <article class="panel output-panel">
        <h2>Pipeline Output</h2>
        <p class="muted">Conversion output, generated MATLAB script, and report are shown here.</p>

        <label class="field-label" for="readable">Readable data preview</label>
        <textarea id="readable" rows="9" placeholder="Converted .slx output will appear here..."></textarea>

        <label class="field-label" for="generatedScript">Generated MATLAB script</label>
        <textarea id="generatedScript" rows="8" placeholder="Generated MATLAB script will appear here..."></textarea>

        <label class="field-label" for="response">Report / model response</label>
        <textarea id="response" rows="10" placeholder="Workflow report or model answer will appear here..."></textarea>
      </article>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>
